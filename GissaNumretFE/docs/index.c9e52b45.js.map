{"mappings":"AEAA,SAAS,EAAkB,CAAU,EACjC,IAAM,EAAY,SAAS,aAAa,CAAC,wBAGzC,IAAI,IAAM,KAFV,EAAU,SAAS,CAAG,GAEH,GAAW,CAC1B,IAAM,EAAW,SAAS,aAAa,CAAC,OAClC,EAAS,SAAS,aAAa,CAAC,MAChC,EAAU,SAAS,aAAa,CAAC,IAEvC,CAAA,EAAO,SAAS,CAAG,EAAM,IAAI,CAC7B,EAAQ,SAAS,CAAG,CAAC,EAAE,EAAM,KAAK,CAAC,CAAC,CAEpC,EAAS,MAAM,CAAC,EAAQ,GACxB,EAAU,MAAM,CAAC,EACrB,CACJ,CCfA,MAAM,EAAU,mCAEhB,eAAe,IACX,IAAM,EAAM,MAAM,MAAM,GAExB,OADe,MAAM,EAAI,IAAI,EAEjC,CAEA,eAAe,EAAS,CAAI,CAAG,CAAK,EAChC,OAAO,MAAM,EAAS,CAClB,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAC,KAAA,EAAM,MAAA,CAAK,EACrC,EACJ,CFXA,AAAA,IAAgB,IAAI,CAAC,GAAmB,KAAK,CAAC,QAAQ,KAAK,EAE3D,MAAM,EAAU,SAAS,cAAc,CAAC,UAClC,EAAa,SAAS,cAAc,CAAC,WAE3C,SAAS,cAAc,CAAC,QAAQ,gBAAgB,CAAC,QAAS,IAAM,EAAM,IACtE,SAAS,cAAc,CAAC,QAAQ,gBAAgB,CAAC,QAAS,IAAM,EAAM,IACtE,SAAS,cAAc,CAAC,QAAQ,gBAAgB,CAAC,QAAS,IAAM,EAAM,IAEtE,IAAI,EAAQ,EAEZ,SAAS,EAAM,CAAS,EACpB,IAAM,EAAY,KAAK,KAAK,CAAC,AAAgB,EAAhB,KAAK,MAAM,IAAW,CAC/C,CAAA,IAAc,GACd,EAAQ,SAAS,CAAG,8BACpB,IACA,EAAW,SAAS,CAAG,CAAC,kBAAkB,EAAE,EAAM,CAAC,GAEnD,EAAQ,SAAS,CAAG,CAAC,sBAAsB,EAAE,EAAU,CAAC,CACxD,EAAW,SAAS,CAAG,CAAC,2BAA2B,EAAE,EAAM,MAAM,CAAC,CAClE,AAAA,IAAgB,IAAI,CAAC,AAAA,IACjB,IAAM,EAAc,EAAW,MAAM,CAAG,EAAI,KAAK,GAAG,IAAI,EAAW,GAAG,CAAC,AAAA,GAAS,EAAM,KAAK,GAAK,KAChG,GAAI,AAAgB,OAAhB,GAAwB,EAAQ,EAAa,CAC7C,IAAM,EAAW,OAAO,mBACpB,GACA,AAAA,EAAS,EAAU,GACd,IAAI,CAAC,AAAA,GAAY,AAa1C,CAAA,SAAoB,CAAQ,CAAE,CAAQ,CAAE,CAAK,EACzC,GAAI,EAAS,EAAE,CAGX,OAFA,EAAW,SAAS,CAAI,CAAC,EAAE,EAAS,gBAAgB,EAAE,EAAM,eAAe,CAAC,CAC5E,EAAQ,EACD,AAAA,IAEP,QAAQ,KAAK,CAAC,kBACd,EAAW,SAAS,CAAG,2BAE/B,CAAA,EAtBqD,EAAU,EAAU,IAChD,IAAI,CAAC,GACL,KAAK,CAAC,QAAQ,KAAK,CAEhC,MACI,EAAW,SAAS,CAAG,CAAC,cAAc,EAAE,EAAM,6CAA6C,CAAC,CAC5F,EAAQ,CAEhB,GAAG,KAAK,CAAC,QAAQ,KAAK,EAE9B","sources":["<anon>","src/main.js","src/modules/gui.js","src/modules/highscorerq.js"],"sourcesContent":["function $b429452315626fb0$export$b9501187a90c1efb(highScores) {\n    const container = document.querySelector(\"#highScoresContainer\");\n    container.innerHTML = \"\";\n    for (const score of highScores){\n        const scoreDiv = document.createElement(\"div\");\n        const nameEl = document.createElement(\"h2\");\n        const scoreEl = document.createElement(\"p\");\n        nameEl.innerText = score.name;\n        scoreEl.innerText = `${score.score}`;\n        scoreDiv.append(nameEl, scoreEl);\n        container.append(scoreDiv);\n    }\n}\n\n\nconst $7880cde19ffeb89d$var$baseURL = \"http://localhost:3000/highscores\";\nasync function $7880cde19ffeb89d$export$790b222fed6ba671() {\n    const res = await fetch($7880cde19ffeb89d$var$baseURL);\n    const scores = await res.json();\n    return scores;\n}\nasync function $7880cde19ffeb89d$export$a42ea732396691bd(name, score) {\n    return fetch($7880cde19ffeb89d$var$baseURL, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            name: name,\n            score: score\n        })\n    });\n}\n\n\n(0, $7880cde19ffeb89d$export$790b222fed6ba671)().then((0, $b429452315626fb0$export$b9501187a90c1efb)).catch(console.error);\nconst $2b6e161c9edcf319$var$pResult = document.getElementById(\"result\");\nconst $2b6e161c9edcf319$var$divMessage = document.getElementById(\"message\");\ndocument.getElementById(\"btn1\").addEventListener(\"click\", ()=>$2b6e161c9edcf319$var$guess(1));\ndocument.getElementById(\"btn2\").addEventListener(\"click\", ()=>$2b6e161c9edcf319$var$guess(2));\ndocument.getElementById(\"btn3\").addEventListener(\"click\", ()=>$2b6e161c9edcf319$var$guess(3));\nlet $2b6e161c9edcf319$var$score = 0;\nfunction $2b6e161c9edcf319$var$guess(userGuess) {\n    const randomNum = Math.floor(Math.random() * 3) + 1;\n    if (userGuess === randomNum) {\n        $2b6e161c9edcf319$var$pResult.innerText = \"Good job! You guessed right\";\n        $2b6e161c9edcf319$var$score++;\n        $2b6e161c9edcf319$var$divMessage.innerText = `Your score is now ${$2b6e161c9edcf319$var$score}`;\n    } else {\n        $2b6e161c9edcf319$var$pResult.innerText = `Wrong! The number was ${randomNum}`;\n        $2b6e161c9edcf319$var$divMessage.innerText = `You managed to guess right ${$2b6e161c9edcf319$var$score} times`;\n        (0, $7880cde19ffeb89d$export$790b222fed6ba671)().then((highScores)=>{\n            const lowestScore = highScores.length > 0 ? Math.min(...highScores.map((score)=>score.score)) : null;\n            if (lowestScore === null || $2b6e161c9edcf319$var$score > lowestScore) {\n                const userName = prompt(\"Enter your name\");\n                if (userName) (0, $7880cde19ffeb89d$export$a42ea732396691bd)(userName, $2b6e161c9edcf319$var$score).then((response)=>$2b6e161c9edcf319$var$handleSave(response, userName, $2b6e161c9edcf319$var$score)).then((0, $b429452315626fb0$export$b9501187a90c1efb)).catch(console.error);\n            } else {\n                $2b6e161c9edcf319$var$divMessage.innerText = `Your score of ${$2b6e161c9edcf319$var$score} is too low to be added to the highscore list`;\n                $2b6e161c9edcf319$var$score = 0;\n            }\n        }).catch(console.error);\n    }\n}\n// Function to make the guess function look less messy\nfunction $2b6e161c9edcf319$var$handleSave(response, userName, score) {\n    if (response.ok) {\n        $2b6e161c9edcf319$var$divMessage.innerText = `${userName}, your score of ${score} has been saved`;\n        score = 0;\n        return (0, $7880cde19ffeb89d$export$790b222fed6ba671)();\n    } else {\n        console.error(\"Failed to save\");\n        $2b6e161c9edcf319$var$divMessage.innerText = \"Failed to save, try again\";\n    }\n}\n\n\n//# sourceMappingURL=index.c9e52b45.js.map\n","import { displayHighscores } from \"./modules/gui\";\r\nimport { getHighScores, addScore } from \"./modules/highscorerq\";\r\n\r\ngetHighScores().then(displayHighscores).catch(console.error);\r\n\r\nconst pResult = document.getElementById(\"result\");\r\nconst divMessage = document.getElementById(\"message\");\r\n\r\ndocument.getElementById(\"btn1\").addEventListener(\"click\", () => guess(1));\r\ndocument.getElementById(\"btn2\").addEventListener(\"click\", () => guess(2));\r\ndocument.getElementById(\"btn3\").addEventListener(\"click\", () => guess(3));\r\n\r\nlet score = 0;\r\n\r\nfunction guess(userGuess){\r\n    const randomNum = Math.floor(Math.random() * 3 ) + 1;\r\n    if (userGuess === randomNum) {\r\n        pResult.innerText = \"Good job! You guessed right\";\r\n        score ++;\r\n        divMessage.innerText = `Your score is now ${score}`;\r\n    } else {\r\n        pResult.innerText = `Wrong! The number was ${randomNum}`;\r\n        divMessage.innerText = `You managed to guess right ${score} times`;\r\n        getHighScores().then(highScores => {\r\n            const lowestScore = highScores.length > 0 ? Math.min(...highScores.map(score => score.score)) : null;\r\n            if (lowestScore === null || score > lowestScore) {\r\n                const userName = prompt(\"Enter your name\");\r\n                if (userName) {\r\n                    addScore(userName, score)\r\n                        .then(response => handleSave(response, userName, score))\r\n                        .then(displayHighscores)\r\n                        .catch(console.error);\r\n                }\r\n            } else {\r\n                divMessage.innerText = `Your score of ${score} is too low to be added to the highscore list`;\r\n                score = 0;\r\n            }\r\n        }).catch(console.error);\r\n    }\r\n}\r\n\r\n// Function to make the guess function look less messy\r\nfunction handleSave(response, userName, score){\r\n    if (response.ok) {\r\n        divMessage.innerText =  `${userName}, your score of ${score} has been saved`;\r\n        score = 0;\r\n        return getHighScores();\r\n    } else {\r\n        console.error(\"Failed to save\");\r\n        divMessage.innerText = \"Failed to save, try again\";\r\n    }\r\n}","function displayHighscores(highScores){\r\n    const container = document.querySelector(\"#highScoresContainer\");\r\n    container.innerHTML = \"\";\r\n\r\n    for(const score of highScores){\r\n        const scoreDiv = document.createElement(\"div\");\r\n        const nameEl = document.createElement(\"h2\");\r\n        const scoreEl = document.createElement(\"p\");\r\n\r\n        nameEl.innerText = score.name;\r\n        scoreEl.innerText = `${score.score}`;\r\n\r\n        scoreDiv.append(nameEl, scoreEl);\r\n        container.append(scoreDiv);\r\n    }\r\n}\r\n\r\nexport {displayHighscores};","const baseURL = \"http://localhost:3000/highscores\";\r\n\r\nasync function getHighScores() {\r\n    const res = await fetch(baseURL);\r\n    const scores = await res.json();\r\n    return scores;\r\n}\r\n\r\nasync function addScore(name , score){\r\n    return fetch(baseURL, {\r\n        method: \"POST\",\r\n        headers: { 'Content-Type': 'application/json',},\r\n        body: JSON.stringify({name, score})\r\n    })\r\n}\r\n\r\nexport {getHighScores, addScore};"],"names":["$b429452315626fb0$export$b9501187a90c1efb","highScores","container","document","querySelector","score","innerHTML","scoreDiv","createElement","nameEl","scoreEl","innerText","name","append","$7880cde19ffeb89d$var$baseURL","$7880cde19ffeb89d$export$790b222fed6ba671","res","fetch","json","$7880cde19ffeb89d$export$a42ea732396691bd","method","headers","body","JSON","stringify","then","catch","console","error","$2b6e161c9edcf319$var$pResult","getElementById","$2b6e161c9edcf319$var$divMessage","addEventListener","$2b6e161c9edcf319$var$guess","$2b6e161c9edcf319$var$score","userGuess","randomNum","Math","floor","random","lowestScore","length","min","map","userName","prompt","response","$2b6e161c9edcf319$var$handleSave","ok"],"version":3,"file":"index.c9e52b45.js.map"}