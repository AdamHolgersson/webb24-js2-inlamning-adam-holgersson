function e(e){let t=document.querySelector("#highScoresContainer");for(let n of(t.innerHTML="",e)){let e=document.createElement("div"),o=document.createElement("h2"),r=document.createElement("p");o.innerText=n.name,r.innerText=`${n.score}`,e.append(o,r),t.append(e)}}const t="http://localhost:3000/highscores";async function n(){let e=await fetch(t);return await e.json()}async function o(e,n){return fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,score:n})})}n().then(e).catch(console.error);const r=document.getElementById("result"),c=document.getElementById("message");document.getElementById("btn1").addEventListener("click",()=>a(1)),document.getElementById("btn2").addEventListener("click",()=>a(2)),document.getElementById("btn3").addEventListener("click",()=>a(3));let i=0;function a(t){let a=Math.floor(3*Math.random())+1;t===a?(r.innerText="Good job! You guessed right",i++,c.innerText=`Your score is now ${i}`):(r.innerText=`Wrong! The number was ${a}`,c.innerText=`You managed to guess right ${i} times`,n().then(t=>{let r=t.length>0?Math.min(...t.map(e=>e.score)):null;if(null===r||i>r){let t=prompt("Enter your name");t&&o(t,i).then(e=>(function(e,t,o){if(e.ok)return c.innerText=`${t}, your score of ${o} has been saved`,o=0,n();console.error("Failed to save"),c.innerText="Failed to save, try again"})(e,t,i)).then(e).catch(console.error)}else c.innerText=`Your score of ${i} is too low to be added to the highscore list`,i=0}).catch(console.error))}
//# sourceMappingURL=index.c9e52b45.js.map
